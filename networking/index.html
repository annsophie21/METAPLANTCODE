<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Networking – MetaPlantCode</title>
  <link rel="stylesheet" href="../style.css" />
  <link rel="icon" href="../pics/M-logo2.png">
</head>
<body>

  <!-- NAVIGATION -->
  <header class="navbar">
    <div class="logo">
      <a href="https://metaplantcode.github.io/metaplantcode/index.html">
        <img src="../pics/metaplantlogo.png" alt="METAPLANTCODE-Logo" />
      </a>
    </div>
    <nav class="nav-links">
      <a href="../about/index.html">About</a>
      <a href="../funding/index.html">Funding</a>
      <a href="../networking/index.html" class="active">Networking</a>
      <a href="../resources/index.html">Resources</a>
    </nav>
  </header>

  <!-- HERO IMAGE -->
  <section class="hero-parallax">
    <div class="parallax-bg" style="background-image: url('../pics/network.webp');"></div>
    <div class="hero-content">
      <div class="watermark">© MetaPlantCode</div>
    </div>
  </section>

  <!-- NETWORKING SECTION -->
  <div class="network-container">
    <svg class="network-lines"></svg>
    <div class="node center">
      <img src="../pics/M-logo1.png" alt="MetaPlantCode Logo" />
    </div>
    <!-- Die anderen Nodes werden von JavaScript erzeugt -->
    <div id="tooltip" class="tooltip hidden">
      <h3 id="tooltip-title"></h3>
      <p id="tooltip-description"></p>
      <a href="#" target="_blank" id="tooltip-link">Learn more</a>
    </div>
  </div>

  <!-- FOOTER -->
  <footer>
    <div class="footer-top">
      <a href="../index.html">What is MetaPlantCode</a>
      <a href="../privacy/index.html">Privacy</a>
      <a href="../contact/index.html">Contact</a>
    </div>
    <div class="footer-middle">
      <a href="https://www.biodiversa.eu/2024/04/15/metaplantcode/" target="_blank"><img src="../pics/biodiversa_logo_blanc.svg" alt="Biodiversa+" /></a>
      <img src="../pics/ec.jpg" alt="EU" />
      <div class="footer-text"><p>Co-funded by<br>the European Union</p></div>
    </div>
    <div class="footer-social">
      <a href="https://www.facebook.com/people/Metaplantcode/61561470754476/" target="_blank"><img src="../pics/facebook.png" alt="Facebook" /></a>
      <a href="https://www.instagram.com/metaplantcode/" target="_blank"><img src="../pics/instagram.png" alt="Instagram" /></a>
    </div>
    <div class="footer-bottom">
      <a href="../index.html"><img src="../pics/metaplantlogo.png" alt="METAPLANTCODE-Logo" /></a>
    </div>
  </footer>

<script>
    const projects = [
    {
      title: "BioMonI",
      description: "Biodiversity Monitoring of Island Ecosystems",
      link: "https://biomoni.github.io/BioMonI/index.html",
      logo: "logos/Logo Biomoni-v2.jpg"
    },
    {
      title: "DNAquaIMG",
      description: "Innovating aquatic biodiversity monitoring with DNA tools",
      link: "https://dnaquaimg.eu/",
      logo: "logos/DNAquaIMG.png"
    },
    {
      title: "OneSTOP",
      description: "Pioneering a joined-up approach to minimise the introduction, establishment, spread and impact of terrestrial invasive alien species",
      link: "https://onestop-project.eu/",
      logo: "logos/OneSTOP.png"
    },
    // Weitere Projekte hier
  ];

  const container = document.querySelector('.network-container');
  const svg = document.querySelector('.network-lines');
  const centerNode = container.querySelector('.node.center');
  const tooltip = document.getElementById('tooltip');
  const title = document.getElementById('tooltip-title');
  const desc = document.getElementById('tooltip-description');
  const link = document.getElementById('tooltip-link');

  function createProjectNodes() {
    const containerRect = container.getBoundingClientRect();
    const width = container.offsetWidth;
    const height = container.offsetHeight;

    const centerRect = centerNode.getBoundingClientRect();
    const cx = centerNode.offsetLeft + centerNode.offsetWidth / 2;
    const cy = centerNode.offsetTop + centerNode.offsetHeight / 2;

    projects.forEach(proj => {
      // Zufällige Position (mit etwas Puffer)
      const x = Math.random() * (width - 100);
      const y = Math.random() * (height - 100);

      const node = document.createElement('div');
      node.classList.add('node');
      node.style.left = `${x}px`;
      node.style.top = `${y}px`;
      node.dataset.title = proj.title;
      node.dataset.description = proj.description;
      node.dataset.link = proj.link;

      const img = document.createElement('img');
      img.src = proj.logo;
      img.alt = proj.title + ' Logo';
      node.appendChild(img);

      container.appendChild(node);

      // Linie zeichnen
      const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
      const x1 = cx;
      const y1 = cy;
      const x2 = x + 40; // Mitte des Nodes
      const y2 = y + 40;

      line.setAttribute('x1', x1);
      line.setAttribute('y1', y1);
      line.setAttribute('x2', x2);
      line.setAttribute('y2', y2);
      line.setAttribute('stroke', '#ccc');
      line.setAttribute('stroke-width', '2');
      svg.appendChild(line);

      // Tooltip aktivieren
      node.addEventListener('click', () => {
        title.textContent = proj.title;
        desc.textContent = proj.description;
        link.href = proj.link;
        tooltip.style.top = `${y + 100}px`;
        tooltip.style.left = `${x}px`;
        tooltip.classList.remove('hidden');
      });
    });
  }

  document.addEventListener('click', e => {
    if (!e.target.closest('.node') && !e.target.closest('#tooltip')) {
      tooltip.classList.add('hidden');
    }
  });

  window.addEventListener('DOMContentLoaded', createProjectNodes);
</script>

</body>
</html>
