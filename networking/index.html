<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Networking – MetaPlantCode</title>
  <link rel="stylesheet" href="../style.css" />
  <link rel="icon" href="../pics/M-logo2.png">
</head>
<body>

  <!-- NAVIGATION -->
  <header class="navbar">
    <div class="logo">
      <a href="https://metaplantcode.github.io/metaplantcode/index.html">
        <img src="../pics/metaplantlogo.png" alt="METAPLANTCODE-Logo" />
      </a>
    </div>
    <nav class="nav-links">
      <a href="../about/index.html">About</a>
      <a href="../funding/index.html">Funding</a>
      <a href="../networking/index.html" class="active">Networking</a>
      <a href="../resources/index.html">Resources</a>
    </nav>
  </header>

  <!-- HERO IMAGE -->
  <section class="hero-parallax">
    <div class="parallax-bg" style="background-image: url('../pics/network.webp');"></div>
    <div class="hero-content">
      <div class="watermark">© MetaPlantCode</div>
    </div>
  </section>

  <!-- NETWORKING SECTION -->
  <section class="network-section">
    <div class="network-container">
      <svg class="network-lines"></svg>
      <div class="node center">
        <img src="../pics/M-logo1.png" alt="MetaPlantCode Logo" />
      </div>
      <!-- Die anderen Nodes werden von JavaScript erzeugt -->
      <div id="tooltip" class="tooltip hidden">
        <h3 id="tooltip-title"></h3>
        <p id="tooltip-description"></p>
        <a href="#" target="_blank" id="tooltip-link">Learn more</a>
      </div>
    </div>
  </section>
  
  <!-- FOOTER -->
  <footer>
    <div class="footer-top">
      <a href="../index.html">What is MetaPlantCode</a>
      <a href="../privacy/index.html">Privacy</a>
      <a href="../contact/index.html">Contact</a>
    </div>
    <div class="footer-middle">
      <a href="https://www.biodiversa.eu/2024/04/15/metaplantcode/" target="_blank"><img src="../pics/biodiversa_logo_blanc.svg" alt="Biodiversa+" /></a>
      <img src="../pics/ec.jpg" alt="EU" />
      <div class="footer-text"><p>Co-funded by<br>the European Union</p></div>
    </div>
    <div class="footer-social">
      <a href="https://www.facebook.com/people/Metaplantcode/61561470754476/" target="_blank"><img src="../pics/facebook.png" alt="Facebook" /></a>
      <a href="https://www.instagram.com/metaplantcode/" target="_blank"><img src="../pics/instagram.png" alt="Instagram" /></a>
    </div>
    <div class="footer-bottom">
      <a href="../index.html"><img src="../pics/metaplantlogo.png" alt="METAPLANTCODE-Logo" /></a>
    </div>
  </footer>

<script>
    const projects = [
    {
      title: "BioMonI",
      description: "Biodiversity Monitoring of Island Ecosystems",
      link: "https://biomoni.github.io/BioMonI/index.html",
      logo: "logos/Logo Biomoni-v2.jpg"
    },
    {
      title: "DNAquaIMG",
      description: "Innovating aquatic biodiversity monitoring with DNA tools",
      link: "https://dnaquaimg.eu/",
      logo: "logos/DNAquaIMG.png"
    },
    {
      title: "OneSTOP",
      description: "Pioneering a joined-up approach to minimise the introduction, establishment, spread and impact of terrestrial invasive alien species",
      link: "https://onestop-project.eu/",
      logo: "logos/OneSTOP.png"
    },
    // Weitere Projekte hier
  ];

  const container = document.querySelector('.network-container');
  const svg = document.querySelector('.network-lines');
  const centerNode = document.querySelector('.node.center');

  function placeNodes() {
    const centerRect = centerNode.getBoundingClientRect();
    const centerX = centerRect.left + centerRect.width / 2 + window.scrollX;
    const centerY = centerRect.top + centerRect.height / 2 + window.scrollY;

    projects.forEach(proj => {
      const node = document.createElement('div');
      node.classList.add('node');
      node.dataset.title = proj.title;
      node.dataset.description = proj.description;
      node.dataset.link = proj.link;

      const img = document.createElement('img');
      img.src = proj.img;
      img.alt = proj.title;
      node.appendChild(img);
      container.appendChild(node);

      // Zufällige Position mit Mindestabstand zum Zentrum
      const radius = 200 + Math.random() * 150; // Abstand vom Zentrum
      const angle = Math.random() * 2 * Math.PI;

      const x = container.clientWidth / 2 + radius * Math.cos(angle) - 40; // -40: halbe Knotenbreite
      const y = container.clientHeight / 2 + radius * Math.sin(angle) - 40;

      node.style.left = `${x}px`;
      node.style.top = `${y}px`;
    });
  }

  function drawLines() {
    svg.innerHTML = '';
    const center = centerNode.getBoundingClientRect();
    const cx = center.left + center.width / 2 + window.scrollX;
    const cy = center.top + center.height / 2 + window.scrollY;

    document.querySelectorAll('.node:not(.center)').forEach(node => {
      const rect = node.getBoundingClientRect();
      const x = rect.left + rect.width / 2 + window.scrollX;
      const y = rect.top + rect.height / 2 + window.scrollY;

      const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
      line.setAttribute('x1', cx);
      line.setAttribute('y1', cy);
      line.setAttribute('x2', x);
      line.setAttribute('y2', y);
      line.setAttribute('stroke', '#ccc');
      line.setAttribute('stroke-width', '2');
      svg.appendChild(line);
    });
  }

  window.addEventListener('DOMContentLoaded', () => {
    placeNodes();
    setTimeout(drawLines, 100); // kurz warten, damit Positionen stimmen
  });

  window.addEventListener('resize', () => {
    setTimeout(drawLines, 100);
  });

  window.addEventListener('scroll', () => {
    setTimeout(drawLines, 100);
  });
</script>

</body>
</html>
